StubShell is a shell implementation designed for test instrumentation. Out of the box, it is a bare-minimum implementation of all shell functions which does nothing and returns constant values. You can, however, customize the behavior of shell functions by setting the variables exposed by StubShell.h. For each shell function, you can install a callback that will be called when the matching shell function is called, and its return value (if any) will be returned from that shell function. This allows you to exercise fine-grained control over code that calls shell functions by instrumenting their behavior as necessary for testing.